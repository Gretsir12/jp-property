# Микросервис для intrealt.com

## Содержание

* [Установка](#установка)
* [Использование](#использование)
* [Описание](#описание)

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/Gretsir12/jp-property.git
   cd jp-property
   ```

2. Создайте виртуальное окружение Python и установите все необходимые библиотеки:

   ```bash
   python -m venv .venv
   source .venv/bin/activate
   pip install -r req.txt
   ```

3. Создайте базу данных (перед этим убедитесь, что у вас установлен MongoDB Compass). Первый запуск может занять около 20 минут:

   ```bash
   python refresh.py
   ```

4. Запустите приложение:

   ```bash
   uvicorn main:app --reload
   ```

## Описание

1. В файле `convert.py` находится класс для перевода валют. Он получает курс JPY/RUB и может переводить иены в рубли и обратно.

2. В файле `translate.py` находится класс для перевода текста. Для перевода используется локально скачанная LLM-модель. Подробнее об использовании описано в самом файле.
   Модель умеет самостоятельно определять исходный язык, но для стабильности рекомендуется указывать его вручную.

3. В файле `parsers.py` реализована основная логика парсера.

4. В файле `main.py` описано небольшое API, которое выдает все данные в формате XML.

## Использование

1. Если нужно обновить базу данных:

   ```bash
   python refresh.py
   ```

2. Запуск приложения:

   ```bash
   uvicorn main:app --reload
   ```

   Должно появиться что-то вроде: <img width="1304" height="282" alt="изображение" src="https://github.com/user-attachments/assets/b15d104b-d25f-44cc-b6fa-2a8aa5022e06" />

3. Получение XML-фида:

   Фид доступен по адресу `/feed` на вашем бэкенде (если вы тестируете локально, адрес будет выведен в терминале при запуске приложения).